% ===============================
%        PREAMBLE FOR BEAMER
% ===============================

% -------------------------------
%         DOCUMENT SETTINGS
% -------------------------------
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}               % Clean font
\usepackage{microtype}             % Better typography
\usefonttheme{professionalfonts}
\usepackage[english]{babel}
\usepackage{csquotes}
\usepackage{ragged2e}

% -------------------------------
%             BEAMER
% -------------------------------
\mode<presentation>{
  \usetheme{default}               % clean base; editable later
  \usecolortheme{dove}             % minimalistic greyscale
  \setbeamertemplate{navigation symbols}{}      % remove nav buttons
  \setbeamertemplate{footline}[frame number]    % tiny frame # only
  \setbeamertemplate{caption}[numbered]
}

% Make colors subtle and modern
\definecolor{myblue}{HTML}{1B63A6}
\definecolor{myred}{HTML}{C0392B}
\definecolor{mygreen}{HTML}{27AE60}

\setbeamercolor{normal text}{fg=black!92,bg=white}
\setbeamercolor{structure}{fg=myblue}
\setbeamercolor{title}{fg=myblue}
\setbeamercolor{frametitle}{fg=myblue}
\setbeamercolor{subtitle}{fg=gray!65}
\setbeamercolor{background canvas}{bg=white}

% -------------------------------
%              MATH
% -------------------------------
\usepackage{amsmath, amsfonts, amssymb, bm}
\usepackage{mathtools}
\usepackage{physics}               % bra-ket, \dv, \pdv, \comm etc.
\usepackage{tensor}                % index notation
\usepackage{siunitx}               % units
\sisetup{detect-all}

\AtBeginDocument{\RenewCommandCopy\qty\SI}

% Useful math macros
\newcommand{\lag}{\mathcal{L}}
\providecommand{\vev}[1]{\langle #1 \rangle}
\newcommand{\SU}{\mathrm{SU}}
\newcommand{\U}{\mathrm{U}}

% -------------------------------
%          TIKZ + GRAPHICS
% -------------------------------
\usepackage{tikz}
\usetikzlibrary{arrows.meta, calc, patterns, decorations.markings}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

\usepackage{graphicx}
\graphicspath{{figures/}}         % images live here

% Improved figure alignment
\setlength{\tabcolsep}{4pt}

% -------------------------------
%          BIBLIOGRAPHY
% -------------------------------
\usepackage{biblatex}
\addbibresource{../bibliography.bib}

% -------------------------------
%        ITEMIZE & SPACING
% -------------------------------
\linespread{1.05}
\setlength{\parskip}{5pt plus 1pt minus 1pt}
\setlength{\parindent}{0pt}

\setbeamertemplate{itemize item}{\color{myblue}\textbullet}
\setbeamertemplate{itemize subitem}{\color{myblue}â€“}

% -------------------------------
%      TITLE & SECTION STYLE
% -------------------------------
\setbeamerfont{frametitle}{size=\LARGE,series=\bfseries}
\setbeamerfont{title}{size=\Huge,series=\bfseries}
\setbeamerfont{subtitle}{size=\normalsize,series=\mdseries}
\setbeamerfont{framesubtitle}{size=\normalsize,series=\mdseries}
\setbeamersize{text margin left=16mm,text margin right=16mm}

% Center frametitles
\setbeamertemplate{frametitle}{
  \nointerlineskip
  \begin{beamercolorbox}[wd=\paperwidth,center]{frametitle}
    \vspace{3mm plus 1mm minus 0.5mm}
    \parbox{0.9\paperwidth}{\centering\usebeamerfont{frametitle}\color{myblue}\insertframetitle\par}
    \vspace{0.75mm}
  \end{beamercolorbox}
}

% -------------------------------
%   FULLSCREEN IMAGES (key for minimal words)
% -------------------------------
\newcommand{\fullimage}[1]{
  {
    \usebackgroundtemplate{\includegraphics[width=\paperwidth]{#1}}
    \begin{frame}[plain]{}
    \end{frame}
    \usebackgroundtemplate{} % reset
  }
}

% -------------------------------
%   CLEAN SLIDE (no frame title)
% -------------------------------
\newenvironment{cleanframe}{
  \setbeamertemplate{frametitle}{}
  \begin{frame}
}{
  \end{frame}
  \setbeamertemplate{frametitle}{
    \nointerlineskip
    \begin{beamercolorbox}[wd=\paperwidth,center]{frametitle}
      \vspace{3mm plus 1mm minus 0.5mm}
      \parbox{0.9\paperwidth}{\centering\usebeamerfont{frametitle}\color{myblue}\insertframetitle\par}
      \vspace{0.75mm}
    \end{beamercolorbox}
  }
}

% -------------------------------
%  TITLE PAGE LOOK
% -------------------------------
\defbeamertemplate*{title page}{custom}{
  \begin{centering}
    \vspace{1.6cm}
    {\color{myblue}\rule{0.72\paperwidth}{0.5pt} \par}
    \vspace{0.55cm}
    {\color{myblue}{\Huge\bfseries \inserttitle} \par}
    \vspace{0.3cm}
    {\large\color{gray!65} \insertsubtitle \par}
    \vspace{0.6cm}
    {\normalsize \insertauthor \par}
    {\small \insertinstitute \par}
    \vspace{0.35cm}
    {\scriptsize \insertdate \par}
    \vspace{0.55cm}
    {\color{myblue}\rule{0.72\paperwidth}{0.5pt} \par}
  \end{centering}
}
\setbeamertemplate{title page}[custom]

